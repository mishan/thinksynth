CXX=@CXX@
CXXFLAGS=@CXXFLAGS@
INCLUDES = -I../../src -I../..

plugin_path=@plugin_path@

LDFLAGS = -lm -lc

all: ${PLUGIN_NAME}.so

${PLUGIN_NAME}.so: ${PLUGIN_NAME}.cpp
	$(CXX) $(LDFLAGS) $(CXXFLAGS) $(INCLUDES) -DPLUGIN_BUILD -pedantic -shared -Wl,-soname,${PLUGIN_NAME}.so -o $@ $<

distclean clean:
	rm -f ${PLUGIN_NAME}.so

install:
	mkdir -p $(DESTDIR)$(plugin_path)
	cp -f ${PLUGIN_NAME}.so $(DESTDIR)$(plugin_path)

uninstall:
	rm -f $(DESTDIR)$(plugin_path)/${PLUGIN_NAME}.so
